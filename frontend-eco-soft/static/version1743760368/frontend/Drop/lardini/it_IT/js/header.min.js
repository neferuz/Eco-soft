require(["jquery"],function($){let header=$('.page-header').children('.header.content');let isCmsPageHeader=function(){let body=$('#html-body');return body.hasClass('cms-home')||body.hasClass('cms-top-header')||body.hasClass('cms-no-route');};$(document).on("search:open",function(){$("body").addClass("menu-on-pause");});$(document).on("search:close",function(){$("body").removeClass("menu-on-pause");});if(header.length){let lastY=null;let hided=false;$(window).scroll(function(){if($(window).scrollTop()>40&&!header.hasClass('sticky-active')){header.addClass('sticky-active');}else if($(window).scrollTop()===0){header.removeClass('sticky-active');}
if(isCmsPageHeader()&&$(window).scrollTop()>40){$('.page-wrapper').removeClass('shadow');}else if(isCmsPageHeader()&&$(window).scrollTop()===0){$('.page-wrapper').addClass('shadow');}
if($("body").hasClass("checkout-index-index")){return;}
let currentY=$(window).scrollTop();if(currentY<=$(".page-header").outerHeight()-56){if(hided){$('.page-header').removeClass("hide-header");hided=false;}}else{if(currentY>($(".page-header").outerHeight()-56)&&!hided){$('.page-header').addClass("hide-header");hided=true;}}
lastY=$(window).scrollTop();});$(document).ready(function(){let headerOffset=(header.offset().top-$(window).scrollTop())+header.innerHeight()+'px';$('.block-search').hide(0);$('.search-toggle').click(function(){if(header.hasClass('search-active')){$('.block-search').removeClass("open").slideUp(0);$(document).trigger("search:close");}else{$('.block-search').addClass("open").slideDown(500);$(document).trigger("search:open");}
header.toggleClass('search-active');});$('.category-item').hover(function(){$('.block-search').slideUp(0);header.removeClass('search-active');});$('header .nav-sections a, .header-links-right a:not(.search-toggle), header .logo').on('click',function(){if($("body").hasClass("menu-on-pause")){$('.search-toggle').trigger("click");}});let timeOut=null;$('header').mouseleave(function(){if($("body").hasClass("menu-on-pause")){timeOut=setTimeout(function(){$('.search-toggle').trigger("click");},500);}});$('header').mouseenter(function(){clearTimeout(timeOut);});$(window).scroll(function(){if($("body").hasClass("menu-on-pause")){$('.search-toggle').trigger("click");}});if(isCmsPageHeader()){if($(window).scrollTop()===0){$('.page-wrapper').addClass('shadow');}}});$(window).scroll(function(){let headerOffset=(header.offset().top-$(window).scrollTop())+header.innerHeight()+'px';$('.submenu.level0').css('top',headerOffset);});}});